{% load static %}
{% include "administration/header.html" %}
{% include "administration/sidebar.html" %}
{% include "administration/topbar.html" %}

      <div class="page_wrapper">
        <div class="page-content">
          <div class="row">
            <div class="col">
              <div class="card message">
                <div class="card-body">
                  <div class="d-flex align-items-center">
                    <div class="message-content">
                      <script type="text/javascript">
                        document.write("<h1 class='wish'>");
                        var day = new Date();
                        var hr = day.getHours();
                        if (hr >= 0 && hr < 12){
                          document.write("Good Morning!");
                        }
                        else if (hr == 12) {
                          document.write("Good Noon!");
                        }
                        else if (hr >= 12 && hr <= 17) {
                          document.write("Good Afternoon!");
                        }
                        else {
                          document.write("Good Evening!");
                        }
                        document.write("</h1>");
                      </script>
                      <h4>Welcome to the Admin Dashboard</h4>
                      <p>Scroll down to see quick infomation and overview of our Server</p>
                    </div>
                    <div class="ms-auto">
                      <div class="message-img">
                        <img src="{% static 'asets/images/message-image.png' %}" class="img-fluid">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-3 row-cols-xxl-3">
            <div class="col">
              <div class="card radius-10 bg-gradient-cosmic">
                <div class="card-body">
                  <div class="d-flex align-items-center">
                    <div class="me-auto">
                      <p class="mb-0 text-white">Total Employees</p>
                      <h4 class="my-1 text-white">{{employee_count}}</h4>
                    </div>
                    <div id="chart1">
                      <canvas width="81" height="35"></canvas>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="card radius-10 bg-gradient-ibiza">
                <div class="card-body">
                  <div class="d-flex align-items-center">
                    <div class="me-auto">
                      <p class="mb-0 text-white">Total Clients</p>
                      <h4 class="my-1 text-white">{{clients_count}}</h4>
                    </div>
                    <div id="chart2">
                      <canvas width="81" height="35"></canvas>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="card radius-10 bg-gradient-ohhappiness">
                <div class="card-body">
                  <div class="d-flex align-items-center">
                    <div class="me-auto">
                      <p class="mb-0 text-white">Total Projects</p>
                      <h4 class="my-1 text-white">{{projects_count}}</h4>
                    </div>
                    <div id="index">
                      <canvas width="81" height="35"></canvas>
                    </div>
                  </div>
                </div>
              </div>
            </div>            
          </div>      
          <div class="row row-cols-1 row-cols-lg-2 justify-content-md-center">
            <div class="col d-flex">
              <div class="card radius-10 w-100">
                <div class="card-header bg-transparent">
                  <div class="d-flex align-items-center">
                    <div>
                      <h6 class="mb-0">Overview</h6>
                    </div>
                  </div>
                </div>
                <div class="card-body">
                  <div class="chart-container-1">
                    <div class="chartjs-size-monitor">
                      <div class="chartjs-size-monitor-expand">
                        <div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div>
                      </div>
                      <div class="chartjs-size-monitor-shrink">
                        <div style="position:absolute;width:200%;height:200%;left:0; top:0"></div>
                      </div>
                    </div>
                    <canvas id="chart4" width="411" height="390" class="chartjs-render-monitor"></canvas>
                    <script>
                      $(document).ready(function(){
    var ctx = document.getElementById("chart4").getContext('2d');

    var gradientStroke5 = ctx.createLinearGradient(0, 0, 0, 300);
    gradientStroke5.addColorStop(0, '#8e2de2');
    gradientStroke5.addColorStop(1, '#4a00e0');

    var gradientStroke6 = ctx.createLinearGradient(0, 0, 0, 300);
    gradientStroke6.addColorStop(0, ' #ee0979');
    gradientStroke6.addColorStop(0.5, '#ff6a00');

    var gradientStroke7 = ctx.createLinearGradient(0, 0, 0, 300);
    gradientStroke7.addColorStop(0, ' #00b09b');
    gradientStroke7.addColorStop(0.5, '#96c93d');

    var myChart = new Chart(ctx, {
      type: 'pie',
      data: {
        labels: ["Employees", "Clients", "Projects"],
        datasets: [{
            backgroundColor: [
                gradientStroke5,
                gradientStroke6,
                gradientStroke7
            ],
            hoverBackgroundColor: [
                gradientStroke5,
                gradientStroke6,
                gradientStroke7
            ],
    		data: [{{ employee_count }}, {{ clients_count  }},{{ projects_count }}],
            }]
        },
        options: {
            maintainAspectRatio: false,
            legend: {
                display: false
            },
            tooltips: {
    			displayColors:false
            }
        }
    });
});
                    </script>
                  </div>
                </div>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item d-flex bg-transparent justify-content-between align-items-center">Total Projects <span class="badge bg-gradient-ohhappiness rounded-pill">{{projects_count}}</span>
                  </li>
                  <li class="list-group-item d-flex bg-transparent justify-content-between align-items-center">Total Clients <span class="badge bg-gradient-ibiza rounded-pill">{{clients_count}}</span>
                  </li>
                  <li class="list-group-item d-flex bg-transparent justify-content-between align-items-center">Total Employees <span class="badge bg-gradient-cosmic rounded-pill">{{employee_count}}</span>
                  </li>
                </ul>
              </div>
            </div>            
          </div>
        </div>
      </div>
      <footer class="page-footer">
        <p class="mb-0">Copyright Â© 2022. All right reserved.</p>
      </footer>
    </div>
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/simplebar@latest/dist/simplebar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/metisMenu/3.0.7/metisMenu.min.js"></script>
    <script src="https://unpkg.com/boxicons@2.1.2/dist/boxicons.js"></script>
    <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/js/all.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.8.0/html2pdf.bundle.js"></script>
    <script src="{% static '/asets/js/jquery.sparkline.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    <script src="{% static '/asets/js/Chart.extension.js' %}"></script>
    <script src="{% static '/asets/js/script.js' %}"></script>
    
  </body>
</html>